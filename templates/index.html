<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geetai Villa | Luxury Stays in Lonavala</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --dark: #0a0a0a; --grey: #1a1a1a; }
        
        body { margin: 0; background: var(--dark); color: #fff; font-family: 'Montserrat', sans-serif; }

        /* Premium Header with Background Image */
        header { 
            padding: 120px 20px; 
            text-align: center; 
            background: linear-gradient(rgba(0,0,0,0.6), var(--dark)), 
                        url('https://images.unsplash.com/photo-1613977257363-707ba9348227?q=80&w=2070');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            border-bottom: 2px solid var(--gold);
        }

        .logo-text { 
            font-family: 'Cinzel Decorative'; 
            font-size: clamp(2.5rem, 8vw, 4.5rem); 
            color: var(--gold); 
            margin: 0; 
            text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
        }
        
        header p { font-size: 1.2rem; letter-spacing: 3px; font-weight: 300; margin-top: 10px; }

        /* Sticky Search & Filters */
        .controls-container {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(10, 10, 10, 0.95);
            padding: 20px;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .search-bar {
            width: 100%;
            max-width: 600px;
            padding: 15px 25px;
            border-radius: 50px;
            border: 1px solid var(--gold);
            background: #000;
            color: #fff;
            outline: none;
            font-size: 1rem;
        }

        .filter-group { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; }
        select {
            padding: 10px 20px;
            background: var(--grey);
            color: #fff;
            border: 1px solid var(--gold);
            border-radius: 5px;
            cursor: pointer;
        }

        /* Villa Cards Grid */
        .villa-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
            gap: 40px; 
            padding: 50px 5%; 
        }

        .villa-card { 
            background: var(--grey); 
            border-radius: 15px; 
            overflow: hidden; 
            transition: 0.4s; 
            border: 1px solid #222;
        }
        .villa-card:hover { transform: translateY(-10px); border-color: var(--gold); }
        .villa-card img { width: 100%; height: 250px; object-fit: cover; }

        .card-body { padding: 25px; }
        .price-tag { color: var(--gold); font-size: 1.8rem; font-weight: 600; display: block; margin: 15px 0; }
        
        .btn-details { 
            display: block; 
            text-align: center; 
            background: transparent; 
            color: var(--gold); 
            padding: 12px; 
            text-decoration: none; 
            border: 1px solid var(--gold); 
            border-radius: 5px; 
            font-weight: bold;
            transition: 0.3s;
        }
        .btn-details:hover { background: var(--gold); color: #000; }

        /* Inquiry Form */
        #contact { background: #050505; padding: 80px 5%; border-top: 2px solid var(--gold); }
        .form-container { max-width: 600px; margin: auto; text-align: center; }
        input, textarea { 
            width: 100%; padding: 15px; margin-bottom: 15px; 
            background: #111; border: 1px solid #333; color: #fff; border-radius: 8px;
            box-sizing: border-box;
        }
        .btn-submit { 
            width: 100%; background: var(--gold); color: #000; padding: 18px; 
            border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1.1rem;
        }

        @media (max-width: 600px) { .logo-text { font-size: 2.5rem; } }
    </style>
</head>
<body>

    <header>
        <h1 class="logo-text">GEETAI VILLA</h1>
        <p>LONAVALA'S FINEST LUXURY COLLECTION</p>
    </header>

    <div class="controls-container">
        <input type="text" id="searchInput" class="search-bar" onkeyup="applyFilters()" placeholder="Search your dream villa (e.g. Royal)...">
        <div class="filter-group">
            <select id="bhkFilter" onchange="applyFilters()">
                <option value="all">All BHK Types</option>
                <option value="2 BHK">2 BHK</option>
                <option value="3 BHK">3 BHK</option>
                <option value="4 BHK">4 BHK</option>
            </select>
            <select id="priceFilter" onchange="applyFilters()">
                <option value="all">Any Price</option>
                <option value="low">Under ‚Çπ15,000</option>
                <option value="high">Above ‚Çπ15,000</option>
            </select>
        </div>
    </div>

    <div class="villa-grid" id="villaGrid">
        {% for villa in villas %}
        <div class="villa-card" data-name="{{ villa.Name | lower }}" data-bhk="{{ villa.BHK }}" data-price="{{ villa.Price }}">
            <img src="{{ villa.Image_Main }}" alt="{{ villa.Name }}">
            <div class="card-body">
                <h2 style="margin:0; font-family: 'Cinzel Decorative'; color: #fff;">{{ villa.Name }}</h2>
                <small style="color: #888;">{{ villa.BHK }} Premium Villa</small>
                <span class="price-tag">‚Çπ{{ villa.Price }}</span>
                <a href="/villa/{{ villa.Villa_ID }}" class="btn-details">VIEW DETAILS</a>
            </div>
        </div>
        {% endfor %}
    </div>

    <section id="contact">
        <div class="form-container">
            <h2 style="font-family: 'Cinzel Decorative'; color: var(--gold);">BOOKING INQUIRY</h2>
            <p>‡§π‡§Æ‡•á‡§Ç ‡§Ö‡§™‡§®‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡•á‡§ú‡•á‡§Ç, ‡§π‡§Æ ‡§Ü‡§™‡§∏‡•á ‡§§‡•Å‡§∞‡§Ç‡§§ WhatsApp ‡§™‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§</p>
            <form id="inquiryForm" action="/submit_inquiry" method="POST">
                <input type="text" name="name" id="uName" placeholder="Full Name" required>
                <input type="tel" name="phone" id="uPhone" placeholder="Mobile Number" required>
                <textarea name="message" id="uMsg" rows="4" placeholder="Dates or special requests?"></textarea>
                <button type="submit" class="btn-submit">SUBMIT & WHATSAPP US</button>
            </form>
        </div>
    </section>

    <script>
        // Search & Filter Logic
        function applyFilters() {
            let search = document.getElementById('searchInput').value.toLowerCase();
            let bhk = document.getElementById('bhkFilter').value;
            let priceRange = document.getElementById('priceFilter').value;
            let cards = document.getElementsByClassName('villa-card');

            for (let card of cards) {
                let name = card.getAttribute('data-name');
                let cardBhk = card.getAttribute('data-bhk');
                let price = parseInt(card.getAttribute('data-price').toString().replace(/,/g, ''));

                let matchesSearch = name.includes(search);
                let matchesBhk = (bhk === 'all' || cardBhk === bhk);
                let matchesPrice = (priceRange === 'all' || 
                                   (priceRange === 'low' && price < 15000) || 
                                   (priceRange === 'high' && price >= 15000));

                card.style.display = (matchesSearch && matchesBhk && matchesPrice) ? "block" : "none";
            }
        }

        // WhatsApp Redirection
        document.getElementById('inquiryForm').onsubmit = function() {
            let name = document.getElementById('uName').value;
            let phone = document.getElementById('uPhone').value;
            let msg = document.getElementById('uMsg').value;
            
            let myWhatsApp = "918830024994"; // ‡§Ö‡§™‡§®‡§æ ‡§®‡§Ç‡§¨‡§∞ ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á‡§Ç
            let text = `*New Inquiry for Geetai Villa*%0A------------------%0Aüë§ *Name:* ${name}%0Aüìû *Phone:* ${phone}%0Aüí¨ *Message:* ${msg}`;
            
            setTimeout(function() {
                window.location.href = `https://wa.me/${myWhatsApp}?text=${text}`;
            }, 1500);
        };
    </script>
</body>
</html>
